/*
  ==============================================================================

	This file was auto-generated by the Introjucer!

	It contains the basic startup code for a Juce application.

  ==============================================================================
*/

#include "../JuceLibraryCode/JuceHeader.h"
#include "Main.h"
#ifndef OLD_MAC
#include "PackageHandler.h"
#endif

File thePresetFolder;
File theDefaultPreset;
START_JUCE_APPLICATION (SequencerApplication)

void SequencerApplication::initialise (const String& commandLine)
{
	#ifndef OLD_MAC
	thePackageHandler = new PackageHandler();
	#endif
	thePreferenceTree = ValueTree("Preferences");
	theSequencerMaster = new Master(thePreferenceTree);
	mainWindow = new MainWindow(theSequencerMaster->getMasterTree(), thePreferenceTree);
}

void SequencerApplication::updateCallback()
{
	startTimer(1000);
}
void SequencerApplication::timerCallback()
{
	#ifndef OLD_MAC
	delete thePackageHandler;
	#endif
	stopTimer();
}